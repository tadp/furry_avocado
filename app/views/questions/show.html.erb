<h1><%= @question.title %></h1>
<p><%= @question.body %></p>

Vote Rating: <%= @question.upvoters.length - @question.downvoters.length %>

<br>

<%= link_to "Upvote", question_votes_url(@question, voteable_type: 'Question', vote: { upvoted?: true }), method: :post %>
<%= link_to "Downvote", question_votes_url(@question, voteable_type: 'Question', vote: { upvoted?: false }), method: :post %>

<br>

Tags:

<ul>
  <% @question.tags.each do |tag| %>
    <li><%= link_to tag.name, tag_url(tag) %> <%= link_to "Remove", question_tag_url(@question, tag, taggable_type: 'Question'), method: :delete %></li>
  <% end %>
</ul>

<% if @question.tags.length < 5 %>
  <%= form_tag(question_tags_url(@question, taggable_type: 'Question'), method: :post) do %>
    <%= label_tag :tag_tag_names, "Tag Name" %>
    <%= text_field :tag, :tag_names %>
    <%= submit_tag("Add Tag") %>
  <% end %>
<% end %>

<br>

Add a response:

  <%= form_tag(question_responses_url(@question), method: :post) do %>
    <%= text_area :response, :body, value: "" %>
    <%= submit_tag("Add Tag") %>
  <% end %>

Responses:

<ul>
  <% @question.responses.each do |response| %>
    <li>
      <%= response.upvoters.length - response.downvoters.length %>

      <%= link_to "Upvote", question_response_votes_url(@question, response, vote: { upvoted?: true }), method: :post %>
      <%= link_to "Downvote", question_response_votes_url(@question, response, vote: { upvoted?: false }), method: :post %>

      <br>
      <%= response.author.name %>
      <br>
      <%= response.body %>
      <%= link_to "Delete", question_response_url(@question, response), method: :delete %>
    </li>
  <% end %>
</ul>